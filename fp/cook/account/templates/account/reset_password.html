{% extends "base.html" %}

{% block content %}
    <h2>비밀번호 재설정</h2>
    <p>새 비밀번호를 입력하세요.</p>

    <form method="POST">
        {% csrf_token %}

        <label for="id_password">새 비밀번호</label>
        <input type="password" name="password" id="id_password" required>

        <label for="id_confirm_password">새 비밀번호 확인</label>
        <input type="password" name="confirm_password" id="id_confirm_password" required>

        <p id="password-error" style="color: red; display: none;">비밀번호가 일치하지 않습니다.</p>

        <button type="submit">비밀번호 변경</button>
    </form>

    {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <p class="{{ message.tags }}">{{ message }}</p>
            {% endfor %}
        </div>
    {% endif %}

    <script>
        document.getElementById("id_confirm_password").addEventListener("input", function() {
            const password = document.getElementById("id_password").value;
            const confirmPassword = document.getElementById("id_confirm_password").value;
            const error = document.getElementById("password-error");

            if (password !== confirmPassword) {
                error.style.display = "block";
            } else {
                error.style.display = "none";
            }
        });
    </script>
{% endblock %}
